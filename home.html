<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Pulse</title>
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --error-color: #f72585;
            --gray-color: #6c757d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .logo span {
            color: var(--accent-color);
        }

        nav {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        nav a, nav button {
            color: var(--dark-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        nav a:hover, nav button:hover {
            color: var(--primary-color);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
        }

        .container {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .page-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--dark-color);
        }

        /* Event Card Styles */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .event-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .event-image {
            height: 180px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
        }

        .event-content {
            padding: 1.5rem;
        }

        .event-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .event-description {
            color: var(--gray-color);
            margin-bottom: 1rem;
            font-size: 0.9rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .event-date {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .event-price {
            color: var(--gray-color);
            font-size: 0.9rem;
        }

        /* Event Detail Styles */
        .event-detail {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .event-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .event-detail-title {
            font-size: 2rem;
            color: var(--dark-color);
        }

        .event-detail-subtitle {
            font-size: 1.2rem;
            color: var(--gray-color);
            margin-bottom: 1.5rem;
        }

        .event-detail-content {
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .event-detail-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            flex-wrap: wrap;
            gap: 1.5rem;
        }

        .event-info-card {
            flex: 1;
            min-width: 200px;
            background-color: var(--light-color);
            padding: 1.5rem;
            border-radius: 8px;
        }

        .event-info-title {
            font-size: 1rem;
            color: var(--gray-color);
            margin-bottom: 0.5rem;
        }

        .event-info-content {
            font-size: 1.1rem;
            font-weight: 500;
        }

        /* Form Styles */
        .form-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
            outline: none;
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 1.5rem;
        }

        .form-row .form-group {
            flex: 1;
        }

        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            text-decoration: none;
        }

        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-danger {
            background-color: var(--error-color);
        }

        .btn-danger:hover {
            background-color: #d3165e;
        }

        .btn-secondary {
            background-color: var(--gray-color);
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .hidden {
            display: none;
        }

        /* Dashboard Styles */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .search-bar {
            display: flex;
            gap: 0.5rem;
        }

        .search-input {
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            min-width: 300px;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            header {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            nav {
                width: 100%;
                justify-content: space-between;
            }

            .event-detail-header {
                flex-direction: column;
                gap: 1rem;
            }

            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .search-bar {
                width: 100%;
            }

            .search-input {
                min-width: auto;
                flex: 1;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .event-card, .event-detail, .form-container {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Community<span>Pulse</span></div>
        <nav>
            <a href="#" id="home-link">Home</a>
            <a href="#" id="my-events-link">My Events</a>
            <a href="#" id="add-event-link">Add New Event</a>
            <button id="profile-link" class="user-avatar">JD</button>
        </nav>
    </header>

    <div class="container">
        <!-- Home Page with Events List -->
        <div id="home-page">
            <h1 class="page-title">Upcoming Events</h1>
            <div class="events-grid" id="events-list">
                <!-- Events will be loaded here -->
            </div>
        </div>

        <!-- Event Detail Page -->
        <div id="event-detail-page" class="hidden">
            <div class="event-detail">
                <div class="event-detail-header">
                    <div>
                        <h1 class="event-detail-title" id="detail-event-title">Live Music Festival</h1>
                        <p class="event-detail-subtitle" id="detail-event-subtitle">Experience the music icon look and beverages.</p>
                    </div>
                    <div id="event-actions">
                        <!-- Buttons will be shown based on user role -->
                    </div>
                </div>
                
                <div class="event-detail-content" id="detail-event-content">
                    <p>Here it is, the 12th edition of our Live Musical Festival!</p>
                    <p>Once again we assembled the most legendary bands in Rock history. Bands like Bar Fighters, Led Slippers and Link Floyd will offer you the show of the century during our three day event.</p>
                    <p>This is the perfect place for Jacodina a nice time with your friends while listening to some of the most <strong>Impeccable Clam</strong> if all times!</p>
                    <p>For any additional information, please contact us at events@yourcompany.com.</p>
                </div>
                
                <div class="event-detail-footer">
                    <div class="event-info-card">
                        <div class="event-info-title">Date</div>
                        <div class="event-info-content" id="detail-event-date">Aug 14</div>
                    </div>
                    <div class="event-info-card">
                        <div class="event-info-title">Price</div>
                        <div class="event-info-content" id="detail-event-price">130 Fr. - 530 Fr.</div>
                    </div>
                    <div class="event-info-card">
                        <div class="event-info-title">Location</div>
                        <div class="event-info-content" id="detail-event-location">
                            Silver Auditorium,<br>
                            alteredhead,<br>
                            gripcart
                        </div>
                    </div>
                    <div class="event-info-card">
                        <div class="event-info-title">Organizer</div>
                        <div class="event-info-content" id="detail-event-organizer">
                            Max Dean<br>
                            v. 11 555-555-5556<br>
                            info@yourcompany.com
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- My Events Page -->
        <div id="my-events-page" class="hidden">
            <div class="dashboard-header">
                <h1 class="page-title">My Events</h1>
                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Search events...">
                    <button class="btn">Search</button>
                </div>
            </div>
            <div class="events-grid" id="my-events-list">
                <!-- User's events will be loaded here -->
            </div>
        </div>

        <!-- Add New Event Page -->
        <div id="add-event-page" class="hidden">
            <h1 class="page-title">Add New Event</h1>
            <div class="form-container">
                <form id="event-form">
                    <div class="form-group">
                        <label for="event-title">Event Title</label>
                        <input type="text" id="event-title" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-subtitle">Short Description</label>
                        <input type="text" id="event-subtitle" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-description">Full Description</label>
                        <textarea id="event-description" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="event-date">Date</label>
                            <input type="text" id="event-date" class="form-control" placeholder="e.g. Aug 14 or Jul 20-Aug 5" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="event-price">Price</label>
                            <input type="text" id="event-price" class="form-control" placeholder="e.g. Free or $15 - $20." required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-location">Location</label>
                        <textarea id="event-location" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-organizer">Organizer Info</label>
                        <textarea id="event-organizer" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-image">Image URL</label>
                        <input type="text" id="event-image" class="form-control" placeholder="https://example.com/image.jpg">
                    </div>
                    
                    <div class="form-group" style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="submit" class="btn">Create Event</button>
                        <button type="button" id="cancel-event" class="btn btn-secondary">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const homePage = document.getElementById('home-page');
            const eventDetailPage = document.getElementById('event-detail-page');
            const myEventsPage = document.getElementById('my-events-page');
            const addEventPage = document.getElementById('add-event-page');
            const eventsList = document.getElementById('events-list');
            const myEventsList = document.getElementById('my-events-list');
            const eventForm = document.getElementById('event-form');
            
            // Navigation Links
            const homeLink = document.getElementById('home-link');
            const myEventsLink = document.getElementById('my-events-link');
            const addEventLink = document.getElementById('add-event-link');
            const profileLink = document.getElementById('profile-link');
            const cancelEventBtn = document.getElementById('cancel-event');

            // Event detail elements
            const eventActions = document.getElementById('event-actions');
            const detailEventTitle = document.getElementById('detail-event-title');
            const detailEventSubtitle = document.getElementById('detail-event-subtitle');
            const detailEventContent = document.getElementById('detail-event-content');
            const detailEventDate = document.getElementById('detail-event-date');
            const detailEventPrice = document.getElementById('detail-event-price');
            const detailEventLocation = document.getElementById('detail-event-location');
            const detailEventOrganizer = document.getElementById('detail-event-organizer');

            // Form elements
            const eventTitleInput = document.getElementById('event-title');
            const eventSubtitleInput = document.getElementById('event-subtitle');
            const eventDescriptionInput = document.getElementById('event-description');
            const eventDateInput = document.getElementById('event-date');
            const eventPriceInput = document.getElementById('event-price');
            const eventLocationInput = document.getElementById('event-location');
            const eventOrganizerInput = document.getElementById('event-organizer');
            const eventImageInput = document.getElementById('event-image');

            // Sample data - in a real app, this would come from a backend
            let events = [
                {
                    id: 1,
                    title: "Live Music Festival",
                    subtitle: "Experience the music icon look and beverages.",
                    description: "Here it is, the 12th edition of our Live Musical Festival! Once again we assembled the most legendary bands in Rock history. Bands like Bar Fighters, Led Slippers and Link Floyd will offer you the show of the century during our three day event.",
                    date: "Aug 14",
                    price: "$20 - $50",
                    location: "Silver Auditorium, alteredhead, gripcart",
                    organizer: "Max Dean\nv. 11 555-555-5556\ninfo@yourcompany.com",
                    image: "https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    creatorId: 2,
                    registered: false
                },
                {
                    id: 2,
                    title: "Tennis Tournament",
                    subtitle: "Annual community tennis competition",
                    description: "Join us for our annual tennis tournament open to all skill levels. Prizes for winners in each category.",
                    date: "Sep 5-7",
                    price: "$15",
                    location: "Community Tennis Courts, Main Street",
                    organizer: "Sports Committee\nv. 11 555-555-5557\nsports@community.com",
                    image: "https://images.unsplash.com/photo-1547347298-4074fc3086f0?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    creatorId: 3,
                    registered: true
                },
                {
                    id: 3,
                    title: "Art Exhibition",
                    subtitle: "Local artists showcase their work",
                    description: "Discover amazing artwork from talented local artists. Paintings, sculptures, and photography on display.",
                    date: "Jul 20-Aug 5",
                    price: "Free",
                    location: "Community Art Gallery, Cultural Center",
                    organizer: "Arts Council\nv. 11 555-555-5558\narts@community.com",
                    image: "https://images.unsplash.com/photo-1536924940846-227afb31e2a5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    creatorId: 1,
                    registered: false
                }
            ];

            // Current user - in a real app, this would come from authentication
            const currentUser = {
                id: 1,
                name: "John Doe",
                initials: "JD",
                isCreator: true
            };

            // Generate a unique ID for new events
            function generateId() {
                return Math.max(...events.map(e => e.id), 0) + 1;
            }

            // Render events list
            function renderEvents() {
                eventsList.innerHTML = '';
                events.forEach(event => {
                    const eventCard = document.createElement('div');
                    eventCard.className = 'event-card';
                    eventCard.innerHTML = `
                        <div class="event-image" style="background-image: url('${event.image}')"></div>
                        <div class="event-content">
                            <h3 class="event-title">${event.title}</h3>
                            <p class="event-description">${event.subtitle}</p>
                            <div class="event-date">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                ${event.date}
                            </div>
                            <p class="event-price">${event.price}</p>
                        </div>
                    `;
                    eventCard.addEventListener('click', () => showEventDetail(event.id));
                    eventsList.appendChild(eventCard);
                });
            }

            // Render my events
            function renderMyEvents() {
                myEventsList.innerHTML = '';
                const myEvents = events.filter(event => 
                    event.creatorId === currentUser.id || event.registered
                );
                
                if (myEvents.length === 0) {
                    myEventsList.innerHTML = '<p>You have no events yet. Create or register for some!</p>';
                    return;
                }

                myEvents.forEach(event => {
                    const eventCard = document.createElement('div');
                    eventCard.className = 'event-card';
                    eventCard.innerHTML = `
                        <div class="event-image" style="background-image: url('${event.image}')"></div>
                        <div class="event-content">
                            <h3 class="event-title">${event.title}</h3>
                            <p class="event-description">${event.subtitle}</p>
                            <div class="event-date">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                ${event.date}
                            </div>
                            <p class="event-price">${event.price}</p>
                            ${event.creatorId === currentUser.id ? '<span style="color: var(--primary-color); font-weight: 500;">(Created by you)</span>' : ''}
                            ${event.registered && event.creatorId !== currentUser.id ? '<span style="color: var(--success-color); font-weight: 500;">(Registered)</span>' : ''}
                        </div>
                    `;
                    eventCard.addEventListener('click', () => showEventDetail(event.id));
                    myEventsList.appendChild(eventCard);
                });
            }

            // Show event detail
            function showEventDetail(eventId) {
                const event = events.find(e => e.id === eventId);
                if (!event) return;

                // Update event details
                detailEventTitle.textContent = event.title;
                detailEventSubtitle.textContent = event.subtitle;
                detailEventContent.innerHTML = event.description;
                detailEventDate.textContent = event.date;
                detailEventPrice.textContent = event.price;
                detailEventLocation.innerHTML = event.location.replace(/\n/g, '<br>');
                detailEventOrganizer.innerHTML = event.organizer.replace(/\n/g, '<br>');

                // Update actions based on user role
                eventActions.innerHTML = '';
                if (event.creatorId === currentUser.id) {
                    // User is the creator - show edit and delete buttons
                    eventActions.innerHTML = `
                        <button class="btn btn-outline" id="edit-event-btn">Edit</button>
                        <button class="btn btn-danger" id="delete-event-btn">Delete</button>
                    `;
                } else if (event.registered) {
                    // User is registered - show registered message
                    eventActions.innerHTML = `
                        <button class="btn" disabled>Already Registered</button>
                    `;
                } else {
                    // User can register
                    eventActions.innerHTML = `
                        <button class="btn" id="register-event-btn">Register</button>
                    `;
                    document.getElementById('register-event-btn').addEventListener('click', () => registerForEvent(event.id));
                }

                // Show the detail page
                homePage.classList.add('hidden');
                myEventsPage.classList.add('hidden');
                addEventPage.classList.add('hidden');
                eventDetailPage.classList.remove('hidden');
            }

            // Register for an event
            function registerForEvent(eventId) {
                const event = events.find(e => e.id === eventId);
                if (event) {
                    event.registered = true;
                    alert(`You have successfully registered for ${event.title}!`);
                    showEventDetail(eventId); // Refresh the view
                    renderMyEvents(); // Update my events list
                }
            }

            // Handle form submission for new event
            eventForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newEvent = {
                    id: generateId(),
                    title: eventTitleInput.value,
                    subtitle: eventSubtitleInput.value,
                    description: eventDescriptionInput.value,
                    date: eventDateInput.value,
                    price: eventPriceInput.value,
                    location: eventLocationInput.value,
                    organizer: eventOrganizerInput.value,
                    image: eventImageInput.value || "https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    creatorId: currentUser.id,
                    registered: false
                };
                
                events.unshift(newEvent); // Add to beginning of array
                
                // Reset form
                eventForm.reset();
                
                // Show the new event
                showEventDetail(newEvent.id);
                renderEvents();
                renderMyEvents();
            });

            // Navigation functions
            function showHomePage() {
                homePage.classList.remove('hidden');
                eventDetailPage.classList.add('hidden');
                myEventsPage.classList.add('hidden');
                addEventPage.classList.add('hidden');
                renderEvents();
            }

            function showMyEventsPage() {
                homePage.classList.add('hidden');
                eventDetailPage.classList.add('hidden');
                myEventsPage.classList.remove('hidden');
                addEventPage.classList.add('hidden');
                renderMyEvents();
            }

            function showAddEventPage() {
                homePage.classList.add('hidden');
                eventDetailPage.classList.add('hidden');
                myEventsPage.classList.add('hidden');
                addEventPage.classList.remove('hidden');
                eventForm.reset();
            }

            // Event listeners for navigation
            homeLink.addEventListener('click', (e) => {
                e.preventDefault();
                showHomePage();
            });

            myEventsLink.addEventListener('click', (e) => {
                e.preventDefault();
                showMyEventsPage();
            });

            addEventLink.addEventListener('click', (e) => {
                e.preventDefault();
                showAddEventPage();
            });

            cancelEventBtn.addEventListener('click', (e) => {
                e.preventDefault();
                showHomePage();
            });

            profileLink.addEventListener('click', (e) => {
                e.preventDefault();
                alert('Profile page would open here.');
            });

            // Initialize the app
            renderEvents();
            showHomePage();
        });
    </script>
</body>
</html>
